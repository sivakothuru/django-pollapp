{% extends 'base.html' %}

{% block extra_head %}
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript">
    google.load("visualization", "1", {packages:["corechart"]});
</script>
<script>
  $(function(){
    $("#get-data").on("click", function(){
        alert(10);
        $.getJSON("/ghcart-json/", function(data){
          alert(data);
          //custom_line_chart.draw()

        });
    });

  });
</script>
{% endblock %}

{% block menu %}

{%  endblock %}

{% block content %}
    <div>
        <p>
            graphos.renderer.gchart provides charting via Google Charts API.
        </p>
    </div>

    <div id="line_chart" class="well">

        {{ line_chart.as_html }}
        <pre class="code">
            data_source = ModelDataSource(queryset, fields=['year', 'sales',],)
            gchart.LineChart(data_source, options={'title': "Sales Growth"})
        </pre>
    </div>
    <br />

    <div id="column_chart">
        {{ column_chart.as_html }}
    </div>

    <br />

    <div>
      {{ custom_chart.as_html }}
      <a href="#" id="get-data" class="btn">Get Data</a>
    </div>
    <br />
{% endblock %}